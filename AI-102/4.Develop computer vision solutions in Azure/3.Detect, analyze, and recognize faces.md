# Azure Vision – Face API

## Overview
- Face detection, analysis, and recognition enable AI systems to:
  - Detect presence of people
  - Analyze facial features
  - Recognize individuals
- Common use cases:
  - Security and access control
  - User experience personalization
  - Identity verification
  - Presence detection

## Responsible AI & Access Restrictions
- Full Face API capabilities are **restricted**
- Facial recognition, comparison, and verification require **Limited Access approval**
- Detection and basic analysis features are unrestricted
- Facial data is considered **biometric PII**

## Face API Capabilities
### Face Detection
- Detects faces in images
- Returns:
  - Face ID (GUID, cached for 24 hours)
  - Bounding box coordinates

### Face Attribute Analysis
- Optional attributes returned per face:
  - Head pose (pitch, roll, yaw)
  - Glasses type
  - Mask presence
  - Blur level
  - Exposure quality
  - Image noise
  - Occlusion (eyes, mouth, forehead)
  - Accessories (glasses, headwear)
  - QualityForRecognition (low / medium / high)

### Facial Landmarks
- Spatial coordinates for facial features:
  - Eyes
  - Pupils
  - Nose tip
  - Mouth corners
- Used for:
  - Alignment
  - Detailed facial geometry analysis

### Face Comparison
- Compare faces across images
- Two comparison types:
  - Similarity (how alike two faces are)
  - Verification (same person vs different person)
- Uses cached face IDs (valid for 24 hours)

### Facial Recognition
- Identify known individuals
- Requires:
  - Person Groups
  - Persisted face data
  - Model training
- IDs no longer expire after persistence

### Facial Liveness
- Determines if input is a real person vs spoof
- Used to prevent replay attacks
- Requires explicit access approval

## Face Detection & Recognition Models
- Multiple detection and recognition models available
- Trade-offs:
  - Newer models = better accuracy (especially small images)
  - Older models = more attribute support
- Must explicitly select:
  - Detection model
  - Recognition model

## Provisioning Options
- Standalone Azure Vision Face resource
- Foundry Tools resource (standalone or via Microsoft Foundry project)

## Authentication Options
- Key-based authentication
- Microsoft Entra ID authentication
- SDKs handle auth via FaceClient

## Detect and Analyze Faces (SDK Flow)
- Create FaceClient
- Specify:
  - Detection model
  - Recognition model
  - Requested face attributes
- Call detect() with image data

## Face Detection Output
- Results vary based on:
  - Requested attributes
  - Number of faces detected
- Output includes:
  - faceRectangle (location)
  - faceAttributes (if requested)

## Face Verification
- Each detected face gets a temporary face ID
- Face IDs:
  - Valid for 24 hours
  - Anonymous (no identity)
- Used to:
  - Verify same person across images
  - Track entry/exit without identifying person

## Face Identification (Named Individuals)
### Training Workflow
1. Create a Person Group
2. Create a Person for each individual
3. Add multiple face images per person
4. Persist face data (no expiration)
5. Train the model

### Post-Training Capabilities
- Identify individuals in new images
- Verify detected faces against known people
- Find similar faces to persisted identities

## Responsible AI Considerations
- Facial data is sensitive biometric data
- Key considerations:
  - Data privacy and security
  - User transparency and consent
  - Fairness and bias mitigation
- Follow Microsoft Responsible AI policies

## Module Assessment – Answers
1. Service for facial recognition of named employees?
   - Azure Vision Face

2. What returns spatial points of facial features?
   - Landmarks
