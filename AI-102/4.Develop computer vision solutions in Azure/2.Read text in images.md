# Azure Vision – Optical Character Recognition (OCR)

## Overview
- OCR extracts text from images for processing, indexing, and automation.
- Common use cases:
  - Business cards
  - Scanned documents and IDs
  - Menus and recipes
  - Street signs and storefronts
  - Handwritten notes

## Azure AI Services for Reading Text
### Azure Vision Image Analysis
- Best for:
  - Unstructured images
  - Photos containing text (signs, menus, labels)
  - General OCR + image understanding
- Supports:
  - OCR
  - Object detection
  - Image captions
  - Tagging
  - Smart crops

### Azure Document Intelligence
- Best for:
  - Structured documents
  - Forms, invoices, receipts
- Features:
  - Key-value pairs
  - Tables
  - Prebuilt document models
  - Custom document models

### Azure Content Understanding
- Best for:
  - Multimodal content (documents, images, audio, video)
  - Custom analyzers for business-specific extraction

## Resource Requirements
- Provision one of the following:
  - Azure Vision resource
  - Foundry Tools resource (standalone or via Microsoft Foundry project)
- Endpoint format:
  https://<resource_name>.cognitiveservices.azure.com/

## Authentication Options
- Key-based authentication
- Microsoft Entra ID authentication
- Production best practice:
  - Managed identity
  - Azure Key Vault for keys

## OCR with Azure Vision Image Analysis
- OCR is part of Image Analysis
- Use REST API or SDK
- Image input options:
  - Image URL
  - Binary image data
- Optional language parameter:
  - Default: "en" (English)

## REST Endpoint for OCR
- Use the READ feature
- Endpoint pattern:
  https://<endpoint>/computervision/imageanalysis:analyze?features=read

## Python SDK – OCR Pattern
- Install package:
  azure-ai-vision-imageanalysis
- Create ImageAnalysisClient
- Call analyze() or analyze_from_url()
- Specify:
  - VisualFeatures.READ
  - language (optional)

## Visual Feature for OCR
- VisualFeatures.READ
  - Extracts printed and handwritten text

## OCR Response Structure
- Returned synchronously
- Hierarchical structure:
  - Blocks
    - Lines
      - Words
- Text included at:
  - Line level
  - Word level

## OCR Output Details
- Each line includes:
  - Text
  - Bounding polygon
- Each word includes:
  - Text
  - Bounding polygon
  - Confidence score
- Metadata includes:
  - Image width
  - Image height

## Bounding Information
- Location data provided for:
  - Lines of text
  - Individual words
- Useful for:
  - Layout-aware processing
  - Highlighting text regions
  - Redaction workflows

## When to Use Azure Vision OCR
- Photos with text
- Signs, menus, labels
- Handwritten notes
- Unstructured image content

## Module Assessment – Answers
1. Service to read text in street signs?
   - Azure Vision Image Analysis

2. Visual feature enumeration for OCR?
   - VisualFeatures.Read

3. Text location information is returned at which levels?
   - A block containing the location of lines of text as well as individual words
