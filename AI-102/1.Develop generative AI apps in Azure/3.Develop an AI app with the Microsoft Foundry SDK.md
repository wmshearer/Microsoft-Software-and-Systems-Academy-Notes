# Microsoft Foundry SDK and working with projects

## Purpose of the Microsoft Foundry SDK
Developers building AI solutions in Microsoft Foundry typically use a mix of services and frameworks. The Microsoft Foundry SDK provides a central programmatic access point to bring services and libraries together inside an AI project so developers can write code to build AI apps on Azure.

### Preview status
Microsoft Foundry SDK is currently in public preview, and details may change.

## What is the Microsoft Foundry SDK (high level)
Microsoft Foundry exposes a REST API to work with Foundry projects and their resources. Language-specific SDKs exist so developers can connect to a project, access resource connections and models, and perform AI operations such as sending prompts to a generative model and processing responses.

## Core package for projects: Azure AI Projects library
The core SDK package for working with projects is the Azure AI Projects library, used to connect to a Microsoft Foundry project and access the resources defined within it.

### Language-specific packages (Azure AI Projects)
- Azure AI Projects for Python
- Azure AI Projects for Microsoft .NET
- Azure AI Projects for JavaScript

### Python setup (packages)
To use Azure AI Projects in Python, install:
- azure-ai-projects (Azure AI Projects library)
- azure-identity (for DefaultAzureCredential authentication)
The module uses Python examples; other SDKs can differ in feature completeness because they are maintained independently.

## Connecting to a Microsoft Foundry project
Each project has a unique endpoint shown on the project Overview page in the Microsoft Foundry portal. Projects also expose multiple endpoints and keys, including:
- Project endpoint: access project connections, agents, and models in the Microsoft Foundry resource
- Azure OpenAI Service APIs endpoint: OpenAI APIs in the project’s Microsoft Foundry resource
- Foundry Tools APIs endpoint: services like Vision/Language in the Microsoft Foundry resource

### Creating a project client
You connect in code by creating an AIProjectClient using:
- DefaultAzureCredential for authentication
- The project endpoint for the project

To access the project successfully, code must run in an authenticated Azure session (for example, signing in with Azure CLI before running the code).

## Working with project connections
A Microsoft Foundry project includes connected resources defined at:
- Parent level (Microsoft Foundry resource or hub)
- Project level
Connections represent external services (examples listed: Azure Storage, Azure AI Search, Azure OpenAI, or another Microsoft Foundry resource).

### Accessing connections via the SDK
In Python, AIProjectClient exposes a connections property to retrieve and use project connections.

Key methods described:
- connections.list(): returns all connection objects; can filter using connection_type (example: ConnectionType.AZURE_OPEN_AI)
- connections.get(connection_name, include_credentials): returns a named connection; include_credentials (default True) returns required credentials (example: API key for a Foundry Tools resource)

Connection objects include connection-specific properties (including credentials) used to connect to the underlying service.

## Creating a chat client for models in a project
A common app pattern is to connect to a deployed generative AI model and chat via prompts. While you can use Azure OpenAI SDK directly with key-based or Microsoft Entra ID auth, when a model is deployed in a Microsoft Foundry project you can use the Microsoft Foundry SDK to:
- connect to the project
- retrieve an authenticated OpenAI chat client for models deployed in the project’s Microsoft Foundry resource
This makes it easy to switch models by changing the model deployment name.

### Model scope note
The OpenAI chat client obtained through a Foundry project can be used to chat with any model deployed in the associated Microsoft Foundry resource, including non-OpenAI models (example given: Microsoft Phi models).

### Package note for chat example
The chat sample assumes the openai package is installed in addition to azure-ai-projects and azure-identity.

# Module assessment answers

## Q1: What class in the Microsoft Foundry SDK provides a proxy object for a project?
Answer: AIProjectClient

## Q2: What value is needed to instantiate a AIProjectClient object?
Answer: The project endpoint

## Q3: Which SDK should you use to chat with a model that is deployed in a Microsoft Foundry resource?
Answer: Azure OpenAI
