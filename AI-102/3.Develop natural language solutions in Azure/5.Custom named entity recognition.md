# Azure Language — Custom Named Entity Recognition (Custom NER)

## What it is
Custom NER (custom entity extraction) lets you **train a model to extract your own entity types** from *unstructured* text (contracts, ads, bank statements, etc.).  
Entities can be people, places, values, skills, IDs—anything you define.

---

## Built-in NER vs Custom NER

### Built-in NER
- Minimal setup
- Extracts common entity categories (Person, Location, Organization, URL, DateTime, etc.)
- Best when built-in categories match what you need

### Custom NER
- You define the entity types you care about (ex: `AccountNumber`, `CustomerName`, `LoanAmount`)
- Best when built-in entities are not enough or you want **only specific** entities

---

## Project life cycle (Custom NER)
1. **Define entities** (clear, distinct entity types)
2. **Tag/label data** (mark exact spans for each entity)
3. **Train**
4. **View model details** (precision/recall/F1 + confusion matrix)
5. **Improve** (add data, fix ambiguity, refine entity definitions)
6. **Deploy**
7. **Extract entities** via API (`CustomEntityRecognition` task)

---

## Labeling quality rules
- **Consistency**: label the same way everywhere
- **Precision**: highlight only the entity text (no extra words)
- **Completeness**: don’t miss occurrences

Language Studio saves labels as an **auto-generated JSON file** in your project’s **storage container**.

---

## How to extract entities (runtime)
Use the Analyze endpoint and specify task kind **`CustomEntityRecognition`**:

```json
{
  "displayName": "string",
  "analysisInput": {
    "documents": [
      { "id": "doc1", "text": "string" }
    ]
  },
  "tasks": [
    {
      "kind": "CustomEntityRecognition",
      "taskName": "MyRecognitionTaskName",
      "parameters": {
        "projectName": "MyProject",
        "deploymentName": "MyDeployment"
      }
    }
  ]
}
```
# Module Assessment — Answers
1) Model doesn’t recognize your entities. Which metric is likely low?

✅ Recall
(Recall measures how many of the actual entities the model is finding.)

2) After labeling, how/where is the file stored for training?

✅ JSON file, in my storage account container for the project

3) You trained with only one document source, but real tasks come from many sources. What should you increase?

✅ Diversity