# AKS Hands-On: Azure Container Registry & Networking

## Azure Container Registry (ACR)
- Private container registry service in Azure
- Stores and manages container images and artifacts
- Integrated with AKS via Azure AD
- Registry name:
  - Globally unique
  - 5â€“50 lowercase alphanumeric characters
- Login server format:
  - <registry-name>.azurecr.io

## Create ACR (Portal)
- Resource type: Container Registry
- SKU: Standard
- Region: West US
- Resource group: user-defined
- Output values to note:
  - Registry name
  - Login server (azurecr.io)

## Azure CLI Authentication
- Authenticate to Azure:
```bash
az login
```

- Authenticate to ACR (use registry name, not FQDN):
```bash
az acr login --name <acrName>
```

## Docker Image Workflow with ACR

### Pull Base Image
```bash
docker pull mcr.microsoft.com/hello-world
```

### Tag Image for ACR
- Format:
  - <login-server>/<image>:<tag>
```bash
docker tag mcr.microsoft.com/hello-world <login-server>/hello-world:v1
```

### Push Image to ACR
```bash
docker push <login-server>/hello-world:v1
```

### Remove Local Image (Optional)
```bash
docker rmi <login-server>/hello-world:v1
```

### Run Image from ACR
```bash
docker run <login-server>/hello-world:v1
```

## Viewing Images
- Images stored in ACR repositories
- Repository created automatically on first push
- Image tags visible per repository

## Azure Virtual Network (VNet)
- Foundation for private networking in Azure
- Enables secure communication between Azure resources
- Required for advanced AKS networking scenarios

## Create Virtual Network (Portal)
- Resource type: Virtual Network
- Region: West US
- Address space:
  - 10.0.0.0/16
- Subnet:
  - Name: subnet1
  - Address range: 10.0.0.0/24

## Key Exam Takeaways
- AKS enables automated creation and teardown of environments
- ACR provides private container image storage
- ACR integrates with AKS for image pulls
- Docker images must be tagged with ACR login server
- VNets provide isolation and network control for AKS
