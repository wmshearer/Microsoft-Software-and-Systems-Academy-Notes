# EXERCISE 1 — IMPLEMENT FOREST TRUSTS

## TASK 1 — CONFIGURE STUB ZONES FOR DNS NAME RESOLUTION
1. Sign in to **LON-DC1** as `Contoso\Administrator` / `Pa55w.rd`.
2. Server Manager → Tools → **DNS**.
3. Expand LON-DC1 → Forward Lookup Zones → New Zone.
4. New Zone Wizard:
   - Stub zone → Next
   - Replication: To all DNS servers in Contoso.com → Next
   - Zone name: **treyresearch.net**
   - Master DNS server: **172.16.10.10**
   - Finish
5. Right-click treyresearch.net → **Transfer from Master** → Refresh.
6. Confirm stub zone contains records → close DNS.

### Repeat on TREY-DC1
7. Sign in to **TREY-DC1** as `TreyResearch\Administrator` / `Pa55w.rd`.
8. Server Manager → Tools → DNS.
9. New Zone:
   - Stub zone → Next
   - Replicate to TreyResearch.net forest → Next
   - Zone name: **Contoso.com**
   - Master DNS server: **172.16.0.10**
   - Finish
10. Transfer from Master → Refresh → confirm records → close DNS.

-------------------------------------------------------------

## TASK 2 — CONFIGURE FOREST TRUST WITH SELECTIVE AUTHENTICATION
1. On **LON-DC1** → Tools → **Active Directory Domains and Trusts**.
2. Right-click **Contoso.com** → Properties → Trusts tab → **New Trust**.
3. Wizard steps:
   - Trust name: **treyresearch.net**
   - Trust type: **Forest trust**
   - Direction: **One-way outgoing**
   - Sides: **Both this domain and specified domain**
   - Credentials: `Administrator / Pa55w.rd`
   - Outgoing trust auth level: **Selective authentication**
   - Finish all screens
4. Back at Trusts tab → select **treyresearch.net** → Properties → **Validate**.
5. Confirm trust is active → OK → No (when prompted to confirm incoming trust).
6. Close all trust windows.

-------------------------------------------------------------

## TASK 3 — CONFIGURE SERVER FOR SELECTIVE AUTHENTICATION
1. On **LON-DC1**, Tools → **Active Directory Users and Computers**.
2. View → **Advanced Features**.
3. Expand Contoso.com → Computers → open **LON-SVR2** Properties.
4. Security tab → Add:
   - Locations → choose **TreyResearch.net**
   - Object name: **IT**
   - Check Names → authenticate with:
     `TreyResearch\Administrator / Pa55w.rd`
   - Add → Allow **Allowed to authenticate**
5. Switch to **LON-SVR2**, sign in as `Contoso\Administrator`.
6. File Explorer → C:\ → create folder **IT-Data**.
7. IT-Data → Properties → Sharing → Advanced Sharing.
   - Share this folder → Permissions → Add
   - Locations: TreyResearch.net
   - Object name: IT
   - Check Names (auth again) → OK → OK → OK.

### Validate from TREY-DC1
8. Sign out/in on **TREY-DC1** as `TreyResearch\Abbi / Pa55w.rd`.
9. Run path: `\\LON-SVR2.Contoso.com\IT-Data`
10. Confirm folder opens.
11. Sign out.

-------------------------------------------------------------

# EXERCISE 2 — IMPLEMENT CHILD DOMAINS IN AD DS

## TASK 1 — INSTALL A DOMAIN CONTROLLER IN A CHILD DOMAIN
1. Sign in to **TOR-DC1** as `Contoso\Administrator / Pa55w.rd`.
2. Server Manager → Add Roles and Features.
3. Standard wizard:
   - Role-based install
   - Server: **TOR-DC1**
   - Role: **Active Directory Domain Services**
   - Add Features → Next → Install
4. After install → click **Promote this server to a domain controller**.
5. Deployment Configuration:
   - Add a new domain to an existing forest
   - Domain type: **Child Domain**
   - Parent: **Contoso.com**
   - New domain name: **na**
   - Credentials: Contoso\Administrator
6. Domain Controller Options:
   - Domain functional level: **Windows Server 2016**
   - DNS + GC enabled
   - Site: Default-First-Site-Name
   - DSRM password: `Pa55w.rd`
7. Next through all pages → Install → server restarts.

-------------------------------------------------------------

## TASK 2 — VERIFY DEFAULT TRUST CONFIGURATION
1. On TOR-DC1, log in as **NA\Administrator / Pa55w.rd**.
2. Server Manager → Tools → **Active Directory Domains and Trusts**.
3. Expand **Contoso.com** → right-click **na.Contoso.com** → Properties.
4. Trusts tab → select **Contoso.com** (outgoing trust) → Properties.
5. Validate trust:
   - Yes, validate incoming trust
   - Credentials:
       Username: administrator  
       Password: Pa55w.rd
6. Confirm: “Trust is in place and active.”
7. If secure channel error appears → choose **Repair trust** → validate again.
8. Close all trust property windows.

-------------------------------------------------------------

# END OF LAB — FOREST TRUST + CHILD DOMAIN CONFIGURATION COMPLETE
